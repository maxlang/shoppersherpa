{% extends "base.html.jinja" %}

{% block content %}
<div id="topBar">
    <form id="query" action="/search" method="POST">
        <div id="mainInput">
            {# TODO: there must be a better way to strip whitespace #}
            <input name="keywords" placeholder="product search" value="{{keywords}}" /><span class="link submit">&rarr;</span>
        </div>
    </form>
</div>
<div id="graphArea">
    <div id="attributeTabs">
    {% include "attributes.html.jinja" %}
    </div>
    <div id="graph">
        <div id="point-info"></div>
        <div id="product-info"></div>
        {% for point in rawData %}
            {% include "point.html.jinja" %}
        {% endfor %}
    </div>
    {#<canvas id="graphCanvas">
        <p>Your browser doesn't support canvas.</p>
    </canvas>
    <script>
    var None = null;
    var data = {{rawData}};
    </script>#}
</div>
{#
    <div id="rightBar">
        <h1>Products</h1>
        {% for product in topProducts %}
            {% include "product.html.jinja" %}    ## TODO: should this be a macro instead?
        {% endfor %}
    </div>
#}
{% endblock %}